---
title: Tools
---

# Tools

Tools in AgentMark allow you to extend your prompts with custom functionality. They can be used to add external capabilities to your LLM, such as web searching, calculation, or API calls.

## Using Tools

Tools are defined in your prompt's frontmatter configuration and can be accessed within your messages.

```jsx
---
name: calculator
metadata:
  model:
    name: gpt-4
  tools:
    - name: calculate
      description: Performs basic arithmetic calculations
      parameters:
        type: object
        properties:
          expression:
            type: string
            description: The mathematical expression to evaluate
        required: ["expression"]
---

<System>
You are a math tutor that can perform calculations. Use the calculate tool when you need to compute something.
</System>

<User>What's 235 * 18?</User>

<Assistant>Let me calculate that for you.

<tool>calculate({ expression: "235 * 18" })</tool>

The result of 235 * 18 = 4,230
</Assistant>
```

## Tool Configuration

Tools are configured using JSON Schema in your frontmatter metadata. Each tool requires:

1. `name`: Unique identifier for the tool
2. `description`: What the tool does (helps the LLM understand when to use it)
3. `parameters`: JSON Schema defining the tool's input parameters

### Example Tool Schema

```yaml
tools:
  - name: searchWeb
    description: Search the web for current information
    parameters:
      type: object
      properties:
        query:
          type: string
          description: The search query
        maxResults:
          type: number
          description: Maximum number of results to return
          default: 5
      required: ["query"]
```

## Built-in Tools

AgentMark provides several built-in tools that you can use in your prompts:

| Tool Name | Description | Parameters |
|-----------|-------------|------------|
| calculate | Performs basic arithmetic | `expression`: string |
| search | Web search functionality | `query`: string, `maxResults`: number |
| datetime | Get current date/time | `format`: string (optional) |

## Custom Tools

You can create custom tools by implementing the Tool interface and registering them with AgentMark:

```typescript
import { ToolPluginRegistry } from "@puzzlet/agentmark";

const myCustomTool = {
  name: "myTool",
  description: "Does something custom",
  parameters: {
    type: "object",
    properties: {
      input: {
        type: "string"
      }
    },
    required: ["input"]
  },
  execute: async (params) => {
    // Your custom logic here
    return { result: "Custom output" };
  }
};

ToolPluginRegistry.register(myCustomTool);
```

## Tool Response Handling

When a tool is called, its response is automatically injected into the conversation context. The LLM can then use this information to continue the conversation.

## Best Practices

1. **Clear Descriptions**: Provide clear, detailed descriptions for your tools to help the LLM understand when to use them.
2. **Error Handling**: Always handle potential errors in your custom tool implementations.
3. **Parameter Validation**: Use JSON Schema to validate tool parameters and provide meaningful defaults where appropriate.
4. **Context Awareness**: Make sure your tools are context-aware and return relevant information that the LLM can use effectively.
