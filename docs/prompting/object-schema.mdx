---
title: Object Schema
---

AgentMark supports structured output through JSON Schema. This allows you to define the exact shape of the data you want the model to return.

## Basic Usage

Here's a simple example that extracts names from text:

```jsx
---
name: schema
metadata:
  model:
    name: gpt-4
    settings:
      temperature: 0.7
      top_p: 1
      schema:
        type: object
        properties:
          names:
            type: array
            items:
              type: string
            description: names of people
        required:
          - names
---

<System>You are a helpful assistant capable of finding all the names of the people in a given body of text.</System>
<User>Jessica and Michael decided to host a barbecue at their house, inviting their closest friends, Emily, David, and Sarah.</User>
```

The model will return a structured JSON object matching your schema:

```json
{
  "names": ["Jessica", "Michael", "Emily", "David", "Sarah"]
}
```

## Schema Configuration

The schema property in your model settings should follow JSON Schema specification. Key components include:

- `type`: Defines the data type (object, array, string, number, etc.)
- `properties`: Defines the structure and types of object properties
- `required`: Array of required property names
- `description`: Helps guide the model about the property's purpose

## Important Notes

1. When using schema output, you cannot use tools in the same prompt
2. The schema must be a valid JSON Schema object
3. All model providers may not support all JSON Schema features
4. Streaming is supported with schema output

## Example with Complex Schema

Here's a more complex example that extracts structured data:

```jsx
---
name: complex-schema
metadata:
  model:
    name: gpt-4
    settings:
      temperature: 0.7
      schema:
        type: object
        properties:
          event:
            type: object
            properties:
              name: 
                type: string
                description: name of the event
              hosts:
                type: array
                items:
                  type: string
                description: names of the hosts
              guests:
                type: array
                items:
                  type: string
                description: names of the guests
              activities:
                type: array
                items:
                  type: string
                description: activities that occurred
        required:
          - event
---

<System>You are a helpful assistant capable of extracting event information from text.</System>
<User>Jessica and Michael decided to host a barbecue at their house, inviting their closest friends, Emily, David, and Sarah. As the evening went on, Jessica shared stories from her recent trip, while Michael grilled burgers, and Emily entertained everyone with her hilarious anecdotes.</User>
```

This will return structured data like:

```json
{
  "event": {
    "name": "Barbecue",
    "hosts": ["Jessica", "Michael"],
    "guests": ["Emily", "David", "Sarah"],
    "activities": [
      "Jessica sharing travel stories",
      "Michael grilling burgers",
      "Emily telling anecdotes"
    ]
  }
}
```
